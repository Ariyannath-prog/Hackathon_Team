<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rongali Threads | Premium Assamese Handwoven Textiles</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-96x96.png">
  <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg">
  <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
  <link rel="manifest" href="favicon/site.webmanifest">
  
  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#9e2b2b">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="manifest" href="/manifest.json">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Header Section -->

  <header>
    <div class="logo">
      <img src="./image/japi-removebg-preview.png" alt="Rongali Threads Logo">
      <h1>Rongali Threads</h1>
    </div>
    
    <nav>
      <ul class="nav-links">
  <li><a href="#home"><i class="fas fa-home"></i> Home</a></li>
  <li><a href="#about"><i class="fas fa-info-circle"></i> About</a></li>
  <li><a href="product.html"><i class="fas fa-store"></i> Products</a></li>
  <li><a href="wishlist.html"><i class="fas fa-heart"></i> Wishlist</a></li>
  <li><a href="orders.html"><i class="fas fa-box"></i> My Orders</a></li>
  <li><a href="profile.html"><i class="fas fa-user"></i> Profile</a></li>
  <li><a href="#contact"><i class="fas fa-envelope"></i> Contact</a></li>
  </ul>

      
      <div class="header-right">
        <div class="auth-buttons">
          <button class="btn btn-outline" id="loginBtn">Login</button>
          <button class="btn" id="signupBtn">Sign Up</button>
        </div>
        
        <div class="cart-icon" id="cartIcon">
          <i class="fas fa-shopping-bag"></i>
          <span class="cart-count">0</span>
        </div>
        
        <div class="hamburger" id="hamburger">
          <i class="fas fa-bars"></i>
        </div>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->

  <section class="hero" id="home">
    <div class="hero-carousel">
      <div class="hero-slide active" style="background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)), url('./image/b1.png')">
        <div class="hero-content">
          <h2>Authentic Assamese Handwoven Textiles</h2>
          <p>Discover the rich cultural heritage of Assam through our premium collection.</p>
          <div class="hero-buttons">
            <a href="#products" class="btn">Shop Now</a>
            <a href="#about" class="btn btn-outline">Learn More</a>
          </div>
        </div>
      </div>
      <div class="hero-slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)), url('./image/w11.jpg')">
        <div class="hero-content">
          <h2>Premium Mekhela Chador Collection</h2>
          <p>Exclusive handwoven Muga silk with traditional motifs.</p>
          <div class="hero-buttons">
            <a href="./product.html" class="btn">View Collection</a>
          </div>
        </div>
      </div>
      <div class="hero-slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)), url('./image/w14.webp')">
        <div class="hero-content">
          <h2>Traditional Gamosa Sets</h2>
          <p>Authentic Assamese Gamosa sets perfect for any occasion.</p>
          <div class="hero-buttons">
            <a href="#products" class="btn">Explore Gamosas</a>
          </div>
        </div>
      </div>
        <div class="hero-slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)), url('./image/w13.webp')">
        <div class="hero-content">
          <h2>Premium Mekhela Chador Collection</h2>
          <p>Exclusive handwoven Muga silk with traditional motifs.</p>
          <div class="hero-buttons">
            <a href="#products" class="btn">View Collection</a>
          </div>
        </div>
      </div>
        <div class="hero-slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)), url('./image/w12c.jpg')">
        <div class="hero-content">
          <h2>Premium Mekhela Chador Collection</h2>
          <p>Exclusive handwoven Muga silk with traditional motifs.</p>
          <div class="hero-buttons">
            <a href="#products" class="btn">View Collection</a>
          </div>
        </div>
      </div>
        
      <div class="hero-slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)), url('./image/w15.jpg')">
        <div class="hero-content">
          <h2>Premium Mekhela Chador Collection</h2>
          <p>Exclusive handwoven Muga silk with traditional motifs.</p>
          <div class="hero-buttons">
            <a href="#products" class="btn">View Collection</a>
          </div>
        </div>
      </div>

         <div class="hero-slide" style="background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)), url('./image/w10.jpg')">
        <div class="hero-content">
          <h2>Premium Mekhela Chador Collection</h2>
          <p>Exclusive handwoven Muga silk with traditional motifs.</p>
          <div class="hero-buttons">
            <a href="#products" class="btn">View Collection</a>
          </div>
        </div>
      </div>
      
      <div class="carousel-controls">
        <button class="carousel-prev" aria-label="Previous slide">❮</button>
        <div class="carousel-dots"></div>
        <button class="carousel-next" aria-label="Next slide">❯</button>
      </div>
    </div>
  </section>

  <section class="search-section">
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="Search products..." aria-label="Search products">
      <button id="searchButton" aria-label="Search"><i class="fas fa-search"></i></button>
    </div>
  </section>

  <section class="products" id="products">
    <div class="section-header">
      <div class="filter-buttons">
       
       <a href="./product.html" class="btn">See All Collection</a>
       <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="mekhla">Mekhela Sador</button>
        <button class="filter-btn" data-filter="gamosa">Gamosa</button>
        <button class="filter-btn" data-filter="accessories">Accessories</button>
      </div>
    </div>
    
    <div class="products-grid"></div>
  </section>
  
  <!-- Products Section End -->



  <!-- Video Section -->
<section class="video-section">
  <video width="100%" autoplay loop muted controls>
    <source src="video/Recording 2025-05-18 181605.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</section>


  <!-- About Section -->
  <section class="about" id="about">
    <div class="about-img">
      <img src="./image/tathal.jpg" alt="Assamese weavers" loading="lazy">
    </div>
    <div class="about-content">
      <h2 class="section-title">Our Story</h2>
      <p>Rongali Threads was born from a deep appreciation for Assam's rich textile heritage. We work directly with local weavers and artisans across Assam.</p>
      <a href="#products" class="btn">Explore Our Collection</a>
    </div>
  </section>

  <section class="newsletter">
    <h2>Join Our Community</h2>
    <p>Subscribe to our newsletter for updates on new collections and exclusive offers.</p>
    
    <form class="newsletter-form" id="newsletterForm">
      <input type="email" placeholder="Enter your email address" required>
      <button type="submit">Subscribe</button>
    </form>
  </section>

  <footer id="contact">
    <div class="footer-container">
      <div class="footer-col">
        <h3>Rongali Threads</h3>
        <div class="social-links">
          <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>

          <!--Instagram-->

          <a href="https://www.instagram.com/rongali_threads?igsh=c2gxY2xmYzYwenRx" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        </div>
      </div>
      
      <div class="footer-col">
        <h3>Quick Links</h3>
        <ul class="footer-links">
          <li><a href="#home">Home</a></li>
          <li><a href="#products">Shop</a></li>
        </ul>
      </div>
      
      <div class="footer-col">
        <h3>Contact Info</h3>
        <p><i class="fas fa-phone"></i> +91 9957604972</p>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2025 Rongali Threads. All Rights Reserved.</p>
    </div>
  </footer>

  <!-- Product Modal -->
  <div class="modal" id="productModal">
    <div class="modal-content">
      <button class="close-modal" id="closeModal" aria-label="Close modal">&times;</button>
      <div class="modal-img">
        <img id="modalProductImg" src="" alt="Product Image" loading="lazy">
      </div>
      <div class="modal-info">
        <h2 id="modalProductTitle"></h2>
        <div class="modal-price" id="modalProductPrice"></div>
        <div class="modal-description" id="modalProductDescription"></div>
        
        <div class="modal-features">
          <h3>Features</h3>
          <ul id="modalProductFeatures"></ul>
        </div>
        
        <div class="quantity-selector">
          <label for="quantity">Quantity:</label>
          <button class="quantity-btn" id="decreaseQty" aria-label="Decrease quantity">-</button>
          <input type="number" id="quantity" class="quantity-input" value="1" min="1">
          <button class="quantity-btn" id="increaseQty" aria-label="Increase quantity">+</button>
        </div>
        
        <div class="modal-actions">
          <button class="btn" id="addToCartModal">Add to Cart</button>
          <button class="btn btn-buy" id="buyNowModal">Buy Now</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Cart Sidebar -->
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h3>Your Cart (<span id="cartTotalItems">0</span>)</h3>
      <button class="close-cart" id="closeCart" aria-label="Close cart">&times;</button>
    </div>
    
    <div class="cart-items" id="cartItems">
      <p class="empty-cart-message">Your cart is empty</p>
    </div>
    
    <div class="cart-total">
      <h3>Total: <span id="cartTotalPrice">₹0</span></h3>
      <button class="cart-checkout">Proceed to Checkout</button>
    </div>
  </div>

  <!-- Auth Modal -->
  <div class="modal auth-modal" id="authModal">
    <div class="modal-content">
      <button class="close-modal" id="closeAuthModal" aria-label="Close modal">&times;</button>
      <div class="auth-container">
        <div class="auth-tabs">
          <button class="auth-tab active" data-tab="login">Login</button>
          <button class="auth-tab" data-tab="signup">Sign Up</button>
          <button class="auth-tab" data-tab="reset">Reset Password</button>
        </div>
        
        <div class="auth-form active" id="loginForm">
          <button class="btn btn-google" id="googleLoginBtn">
            <i class="fab fa-google"></i> Continue with Google
          </button>
          <div class="auth-divider">
            <span>or</span>
          </div>
          <form id="loginFormElement">
            <div class="form-group">
              <input type="email" id="loginEmail" placeholder="Email" required>
              <div class="form-error" id="loginEmailError"></div>
            </div>
            <div class="form-group">
              <input type="password" id="loginPassword" placeholder="Password" required>
              <div class="form-error" id="loginPasswordError"></div>
            </div>
            <button type="submit" class="btn">Login</button>
          </form>
        </div>
        
        <div class="auth-form" id="signupForm">
          <button class="btn btn-google" id="googleSignupBtn">
            <i class="fab fa-google"></i> Continue with Google
          </button>
          <div class="auth-divider">
            <span>or</span>
          </div>
          <form id="signupFormElement">
            <div class="form-group">
              <input type="text" id="signupName" placeholder="Full Name" required>
              <div class="form-error" id="signupNameError"></div>
            </div>
            <div class="form-group">
              <input type="email" id="signupEmail" placeholder="Email" required>
              <div class="form-error" id="signupEmailError"></div>
            </div>
            <div class="form-group">
              <input type="password" id="signupPassword" placeholder="Password (min 6 characters)" required minlength="6">
              <div class="form-error" id="signupPasswordError"></div>
            </div>
            <button type="submit" class="btn">Sign Up</button>
          </form>
        </div>
        
        <div class="auth-form" id="resetForm">
          <form id="resetFormElement">
            <div class="form-group">
              <input type="email" id="resetEmail" placeholder="Enter your email" required>
              <div class="form-error" id="resetEmailError"></div>
            </div>
            <button type="submit" class="btn">Send Reset Link</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>

  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
  <script src="script.js"></script>
  
  <script>
    // Razorpay Payment Integration
    function openRazorpayCheckout(amount) {
      var options = {
        "key": "rzp_test_NvkahITXc49fA5", // Replace with your Razorpay Key ID
        "amount": amount * 100, // Amount is in paise
        "currency": "INR",
        "name": "Rongali Threads",
        "description": "Order Payment",
        // "image": "./image/japi-removebg-preview.png", // Optional: Add your logo
        "handler": function (response){
          // Get user info from Firebase Auth
          var user = firebase.auth().currentUser;
          var userInfo = user ? {
            uid: user.uid,
            name: user.displayName,
            email: user.email
          } : null;

          // Get cart info from localStorage
          var cart = JSON.parse(localStorage.getItem('cart')) || [];

          // Get location (if available)
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
              sendOrderToBackend(response, userInfo, cart, position.coords);
            }, function() {
              sendOrderToBackend(response, userInfo, cart, null);
            });
          } else {
            sendOrderToBackend(response, userInfo, cart, null);
          }
        },
        "theme": {
          "color": "#9e2b2b"
        }
      };
      var rzp = new Razorpay(options);
      rzp.open();
    }
    // Add event listener to cart checkout button
    document.addEventListener('DOMContentLoaded', function() {
      var checkoutBtn = document.querySelector('.cart-checkout');
      if (checkoutBtn) {
        checkoutBtn.addEventListener('click', function(e) {
          e.preventDefault();
          // Get total price from cart
          var total = document.getElementById('cartTotalPrice').textContent.replace(/[^\d.]/g, '');
          if (total && !isNaN(total)) {
            openRazorpayCheckout(Number(total));
          } else {
            alert('Cart total not found.');
          }
        });
      }
      // Add event listener to Buy Now button in modal
      var buyNowBtn = document.getElementById('buyNowModal');
      if (buyNowBtn) {
        buyNowBtn.addEventListener('click', function(e) {
          e.preventDefault();
          // Get product price from modal (you may need to adjust selector)
          var priceText = document.getElementById('modalProductPrice').textContent.replace(/[^\d.]/g, '');
          if (priceText && !isNaN(priceText)) {
            openRazorpayCheckout(Number(priceText));
          } else {
            alert('Product price not found.');
          }
        });
      }
    });
    // Register service worker for PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }, function(err) {
          console.log('ServiceWorker registration failed: ', err);
        });
      });
    }

    function sendOrderToBackend(paymentResponse, user, cart, coords) {
      fetch('http://localhost:5000/api/orders', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          payment: paymentResponse,
          user: user,
          cart: cart,
          location: coords
        })
      })
      .then(res => res.json())
      .then(data => {
        alert('Order placed successfully!');
      })
      .catch(() => {
        alert('Order placed, but failed to notify backend.');
      });
    }

    // Hero Carousel Auto Slide
(function() {
  const slides = document.querySelectorAll('.hero-slide');
  const prevBtn = document.querySelector('.carousel-prev');
  const nextBtn = document.querySelector('.carousel-next');
  const dotsContainer = document.querySelector('.carousel-dots');
  let current = 0;
  let interval;

  function showSlide(idx) {
    slides.forEach((slide, i) => {
      slide.classList.toggle('active', i === idx);
      if (dotsContainer && dotsContainer.children[i]) {
        dotsContainer.children[i].classList.toggle('active', i === idx);
      }
    });
    current = idx;
  }

  function nextSlide() {
    showSlide((current + 1) % slides.length);
  }

  function prevSlide() {
    showSlide((current - 1 + slides.length) % slides.length);
  }

  function startAutoSlide() {
    interval = setInterval(nextSlide, 4000);
  }

  function stopAutoSlide() {
    clearInterval(interval);
  }

  // Dots
  if (dotsContainer) {
    dotsContainer.innerHTML = '';
    slides.forEach((_, i) => {
      const dot = document.createElement('span');
      dot.className = 'carousel-dot' + (i === 0 ? ' active' : '');
      dot.addEventListener('click', () => {
        showSlide(i);
        stopAutoSlide();
        startAutoSlide();
      });
      dotsContainer.appendChild(dot);
    });
  }

  if (prevBtn) prevBtn.addEventListener('click', function() {
    prevSlide();
    stopAutoSlide();
    startAutoSlide();
  });
  if (nextBtn) nextBtn.addEventListener('click', function() {
    nextSlide();
    stopAutoSlide();
    startAutoSlide();
  });

  showSlide(0);
  startAutoSlide();
})();
  </script>
</body>
</html>